---
title: Aventuras de enseñanza de Blockchain y contratos inteligentes en vivo
date: "2021-04-27T13:00:00.000Z"
author: Solange
description: "La semana pasada fui invitada por Blockchain Academy México a dar un taller en el Instituto Tecnológico de Monterrey. Fue para enseñar a los contratistas inteligentes, con el título Cómo crear su propio token en Ethereum Blockchain."
layout: blog
slug: /blockchain-teaching-adventures/
---

![workshop title](./images/blockchain-adventures-01.png)

La semana pasada, 19 y 20 de abril de 2021, fui invitada por Blockchain Academy México para dar un taller a estudiantes del Instituto Tecnológico de Monterrey.
El tema fue "Cómo crear tu propio token en Ethereum".

Me gusta mucho usar el Framework [Truffle](https://www.trufflesuite.com/truffle) con estudiantes principiantes, porque facilita algunas tareas.
Además, para crear tokens, uso la biblioteca de [Open Zeppelin](https://openzeppelin.com/contracts/), 
porque los contratos inteligentes fueron creados por esta empresa de auditoría y seguridad.

El primer día de clase instalamos todos los requisitos previos y enseñé cómo crear el primer contrato inteligente usando [Remix](https://remix.ethereum.org/), otro IDE online fantástico.
Creamos un contrato inteligente básico, para registrar y presentar información guardada en Blockchain.
Al día siguiente, con todo listo, el plan era crear el token.
Los estudiantes tendrían mucho tiempo para interactuar con los tokens que crearían.

Pero no fue así :(

### Catastrófica enseñanza de Blockchain en vivo

¡A menudo digo que dar clases prácticas en vivo sobre contratos inteligentes es vivir en peligro!

Este mundo Blockchain evoluciona muy rápidamente:

- Las herramientas lanzan nuevas versiones, que no siempre son compatibles con las anteriores.
- El compilador de Solidity se actualiza constantemente.
- Los contratos inteligentes creados en una versión no siempre se pueden compilar en otra.

Y... detesto intentar enseñar cosas que he hecho antes, pero que ya no funcionan :(

<div style="width:100%;height:0;padding-bottom:79%;position:relative;"><iframe src="https://giphy.com/embed/eP1fobjusSbu" width="100%" height="100%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></div><p><a href="https://giphy.com/gifs/shame-for-box-of-eP1fobjusSbu">via GIPHY</a></p>

Uno de los momentos que más me marcó fue en diciembre de 2018, cuando Truffle cambió la versión 4 a la versión 5.
Estaba dando un curso en la Blockchain Academy Brasil en Brasilia, para Dataprev, una agencia pública que desarrolla varios sistemas para el gobierno brasileño y que es fundamental en la identificación de ciudadanos y empresas.

Una semana antes de haber revisado el plan de lecciones y probado todos los ejercicios, estaba segura de que todo estaba funcionando.
¡Pero estaba enseñando justo el día en que se lanzó la versión 5 de Truffle!
Y el comando más simple para crear un proyecto ya no funcionaba.
Todavía no tenía experiencia con este tipo de problema, donde algo cambia en el entorno, se sale de control y nada más funciona...
Estuve toda la noche tratando de averiguar qué estaba pasando, hasta que obtuve una solución para la clase del día siguiente.

Esto sucedió otras veces.
Para tratar de evitarlo, suelo revisar la clase el mismo día, "a último minuto".
Esto no es una falta de planificación, es todo lo contrario.
De esta manera, hay menos posibilidades de que algo se actualice en el camino :)

### Consejos para evitar problemas de versión en tus proyectos:

Algunos consejos para evitar estos problemas:

- Al instalar paquetes npm, siempre guarda la versión instalada.
- Al crear contratos inteligentes, define una versión exacta del compilador de solidity.
- Ten en cuenta también las versiones globales de las herramientas utilizadas.

### Volviendo al taller de tokens

Para crear tokens, ya cambié algunas veces la forma en que lo enseño.
Últimamente estaba usando un proyecto del año pasado, pero con las versiones guardadas para todos los paquetes.
Estaba tranquila, di este taller a principios de mes.
No pensé que necesitaría hacer una revisión de último minuto.
Pero… en el taller para el Instituto Tecnológico de Monterrey volví a pasar por este problema :(
No testeé el proceso el mismo día.

Entonces ... ¿qué cambió esta vez?
El nodo configurado en el proyecto, donde se realiza la publicación en Ethereum Blockchain.

Logramos crear el token al final de la clase, usando un taller que di en enero de 2018 en Campus Party Brasil.
Hicimos la publicación usando Remix.
Los estudiantes crearon sus tokens, los intercambiaron entre ellos y creo que estaban felices :)

Pero confieso que estaba frustrada.
Revisé varios puntos del proyecto y no pude encontrar el error.
La publicación en otras redes funcionó.
No imaginé que tendría un problema con el nodo utilizado en el proyecto.
Investigué un poco para averiguar quién era el responsable del nodo y descubrí que su nombre era Mudit Gupta.
Un poco más de investigación y llegué a su twitter, donde encontré esta publicación:

![mudit twitter](./images/blockchain-adventures-02.png)

[https://twitter.com/Mudit__Gupta/status/1378979226590670852](https://twitter.com/Mudit__Gupta/status/1378979226590670852)


Infelizmente alguien abusó del nodo que él gentilmente hacia disponible sin ningun costo para ser usado libremente.
Por eso, él cambió la cantidad de llamadas por segundo, y eso causó el problema con Truffle,
que hace muchas consultas al nodo durante el proceso de publicación de un contrato inteligente.

Le envié un mensaje y recibí una respuesta muy rápida y súper amable! 
Él me habilitó otro enlace donde puedo continuar usando su nodo en las clases :)

Cambié la URL y, muy contenta, intenté hacer el deploy. 
Pero... sin éxito nuevamente!

<div style="width:100%;height:0;padding-bottom:106%;position:relative;"><iframe src="https://giphy.com/embed/10ECejNtM1GyRy" width="100%" height="100%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></div><p><a href="https://giphy.com/gifs/dog-angry-doge-10ECejNtM1GyRy">via GIPHY</a></p>

Con el nuevo nodo, las versiones anteriores que habia usado tampoco funcionaban.
Esto tiene que ver con una actualización de seguridad de Ethereum Blockchain, [EIP-155](https://eips.ethereum.org/EIPS/eip-155).

Y aquí están las nuevas acciones:

- Cambié la versión de hdwallet-provider.
- También aproveché la oportunidad para actualizar los contratos inteligentes.
- Agregué nuevos parámetros en la configuración de Truffle.

¡Finalmente logré publicar el **Sol token box** en la red de prueba [Goerli](https://goerli.net/) de Ethereum!

### Consideraciones finales

Aquí está el tutorial actualizado:

[Truffle box token - Solange Gueiros](https://ethereum.solange.dev/#/es/truffle/box-token)

Y la presentación del taller:

[Slides - Cómo crear tu propio token en Ethereum](https://docs.google.com/presentation/d/e/2PACX-1vRaqIvcCV5BuF3qB8JfC5EEUgkYApmZVii7urnxTchF2KPJVQvQetFVhPIQJgrMrTCrPXM2hKVBVNaj/pub?start=false&loop=false&delayms=3000) 

Todo esto no fue un proceso simple, pasé horas investigando y probando.

Ahora todo está funcionando de nuevo, espero que por más tiempo :)

Gracias Mudit Gupta por ayudarme a aumentar el número de desarrolladores de Blockchain Ethereum en el mundo :)
